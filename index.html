<!doctype html>
<html>
  <head>
    <title>Welcome</title>
    <script src=jquery-3.1.1.js></script>
    <script>
      $(document).ready(function() {
        $.getJSON('https://freegeoip.net/json/').done(function(location) {
          $.getJSON('https://api.openweathermap.org/data/2.5/find?lat=' + location.latitude + '&lon='+ location.longitude + '&units=imperial&appid=3bd1d87cf87a57950ca71c6b514201bf',function(result)  {
            $('#temp').html(result.list[0].main.temp);
            $('#stat').html(result.list[0].weather[0].description);
          });
        });
        $('body').css('background', 'url(' + (Math.round(Math.random() * 12) + 1) + '.jpg) no-repeat center center fixed');
        startTime();
      });

      function startTime() {
        today = new Date();
        h = today.getHours();
        if(h == 0) h = 12;
        else if(h > 12) h -= 12;
        $('#time').text(h + ':' + checkTime(today.getMinutes()));
        setTimeout(startTime, 500);
      }

      function checkTime(i) {
        return ('0' + i).slice(-2);
      }
    </script>
    <style>
      body {
        -moz-background-size: cover;
        -o-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
        color: #fff;
        font: 55px bold Arial, Helvetica, sans-serif;
        margin: 0;
      }

      #time {
        display: block;
        margin: 20px auto;
        text-align: center;
      }

      input {
        background: none;
        border: none;
        color: #fff;
        font-size: 45px;
        margin: 50px auto;
        outline: none;
        text-align: center;
        position: absolute;
        left: 0;
        top: 35%;
        width: 100%;
      }

      #temp {
        bottom: 0;
        left: 0;
        margin: 20px;
        position: absolute;
      }

      #stat {
        bottom: 0;
        margin: 20px;
        position: absolute;
        right: 0;
      }
    </style>
  </head>
  <body>
    <span id=time></span>
    <form autocomplete=off action=http://google.com/search method=get>
      <input autofocus name=q>
    </form>
    <span id=temp>--</span>
    <span id=stat>--</span>
  </body>
</html>
